//** SCREEN STYLES **//

// Imports --------------------------------------------------------------

@import partials/defaults
// comment out to turn of debugging
//@import partials/debug

//--------------------------------
// Media
//--------------------------------

@media all and (orientation:portrait)
  // Style adjustments for portrait mode goes here


@media all and (orientation:landscape)
  // Style adjustments for landscape mode goes here


@media screen and (max-device-width: 480px)
  // Pass in false if you don't want iOS and WinMobile to mobile-optimize the text for you
  +media-mobile(true)

/* Styles --------------------------------------------------------------

$content-cols: 8
$comments-cols: 4
$default-border-radius: 0.2em
$icon-size: 32px
$thumb-size: 64px

body
  +susy

#header
  +full($total-cols)
  +height(2)
  z-index: 100
  #title
    +columns(4, $total-cols)
    +adjust-font-size-to(32px)
    margin: 0
    // HACK: align to bottom of nav (and shift in a gutter width)
    position: relative
    bottom: -0.2em
    left: 16px
  #nav
    +columns($content-cols, $total-cols)
    +omega($total-cols)
    +leader
    ul
      +horizontal_list(1em)
      li
        width: $col-width
        text-align: center
        padding-right: 0
      #user
        width: auto
        float: right
        text-align: right
        margin-right: $gutter-width
        .control-link
          margin-left: $gutter-width

#main
  +full
  #flash
    // FIXME: evil hack to get flash the right size
    width: 60em
    position: absolute
    z-index: 900
    div
      +border-radius($default-border-radius)
      padding-left: $gutter-width
      padding-right: $gutter-width
      z-index: 901
    p
      text-align: center
      margin: 0
      z-index: 902
  #content
    +full($total-cols)
    z-index: 10
  #content.with-comments
    +columns($content-cols, $total-cols)
  #wall
    +columns($comments-cols, $total-cols)
    +omega($total-cols)
    +leader(2)

#footer
  +full


//.Devise /////////////////////////////////////////////////////

#login, #signup
  +columns(5,12)
  +prepend(3,12)
  +rhythm-borders

// Comments ///////////////////////////////////////////////////

.input_prompt
  margin-bottom: 0

.new_comment
  +full(4)
  .controls
    +full(4)
    +trailer
    text-align: right
  input
    +adjust-font-size-to(12px)
    +box-sizing(border-box)

.comment, summary
  +full(4)
  +trailing-border(1px, 0)
  p
    +full(4)
    +trailer(0)
    padding-left: $gutter-width
  .info
    +full(4)
    +horizontal_list(4px * $px2em)
    +adjust-font-size-to(12px)
    //+omega(4)
    .user
      font-weight: bold
    .date
      font-style: italic
    .edit, .delete
      float: right
    .edit
      margin-right: 8px * $px2em

// Images controller //////////////////////////////////////////

.images
  .date
    +full($content-cols)
    margin: 0
  .image
    +full($content-cols)
    & > div
      +full($content-cols)
    & > details
      +full($content-cols)
      +trailer
  .image.icon, .image.thumb
    a
      +columns(1, $content-cols)
    & > details
      +columns(7, $content-cols)
      +omega($content-cols)
      clear: none

.image.icon img
  width: $icon-size * $px2em
  height: $icon-size * $px2em
.image.thumb img
  max-width: $thumb-size * $px2em
  max-height: $thumb-size * $px2em
  display: block
  margin-left: auto
  margin-right: auto

.week
  +full($content-cols)
  position: relative
  .label
    +adjust-font-size-to(30px)
    position: absolute
    top: -0.85em
    left: -$gutter-width * ($base-font-size / 30px)


// handle week view differntly in different locations
body.home .week
  opacity: 0.6
  &:hover
    opacity: 1

body.home .weeklist .week
  +leader
  top: 0
  opacity: 1

.image-list
  +full($content-cols)
  +height(3)
  +horizontal-list($gutter-width / 2)
  overflow: visible
  z-index: 6
  .image
    margin-top: 0.3em
    z-index: 7
    a
      vertical-align: middle
  .image.thumb
    width: $thumb-size * $px2em
    height: $thumb-size * $px2em
    a
      display: block
      margin: 0 auto
  .image.absent
    display: block
    width: ($thumb-size - 2px) * $px2em
    height: ($thumb-size - 2px) * $px2em
    border: 1px solid $border-color
    text-align: center
    font-weight: bold
    +adjust-font-size-to(16px)
    a
      display: none
      padding-top: 5px * $px2em
      width: 100%
      height: ($thumb-size - 7px) * $px2em

.user .image-list .image.absent
  @extend .control
  a
    display: block


// Home controller ///////////////////////////////////////////

ul.additional-controls
  +full($content-cols)
  +horizontal-list
  +leader

// admin (NOTE: no comments)
.users
  +full($total-cols)
  ul
    +full($total-cols)
    +height(1.5)
    li
      +columns(2, $total-cols)
      text-align: center
      a.control-link
        display: block
        width: 80%
        height: 80%
        margin-top: 10%
      &.short
        +columns(1, $total-cols)
      &.long
        +columns(3, $total-cols)
      &:last
        +omega($total-cols)

  .create_user
    border: 1px solid $border-color
    background-color: $border-color

// Other modules --------------------------------------------------
$image-height: 18
@import partials/gallery

#gallery
  .description
    +full($content-cols)
    +trailer
  .comments
    +full($content-cols)
    +trailer
    +heights(false, 5)

.paginate
  +full($content-cols)

